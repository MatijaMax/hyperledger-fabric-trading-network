# TESTNET

    # BASICS
        ./network.sh up 
        ./network.sh down 
        ./network.sh createChannel
        ./network.sh createChannel -c channel1 
        ./network.sh deployCC -ccn basic -ccp ../asset-transfer-basic/chaincode-go -ccl go -c channel1

    # TEST NETWORK ENV VARS

        # Environment variables for Org1
        export CORE_PEER_TLS_ENABLED=true
        export CORE_PEER_LOCALMSPID="Org1MSP"
        export CORE_PEER_TLS_ROOTCERT_FILE=${PWD}/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
        export CORE_PEER_MSPCONFIGPATH=${PWD}/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
        export CORE_PEER_ADDRESS=localhost:7051

    # PEER CLI   
        peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" -C mychannel -n basic --peerAddresses localhost:7051 --tlsRootCertFiles "${PWD}/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt" --peerAddresses localhost:9051 --tlsRootCertFiles "${PWD}/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt" -c '{"function":"InitLedger","Args":[]}'\
        peer chaincode query -C mychannel -n basic -c '{"Args":["GetAllAssets"]}'
        peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" -C mychannel -n basic --peerAddresses localhost:7051 --tlsRootCertFiles "${PWD}/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt" --peerAddresses localhost:9051 --tlsRootCertFiles "${PWD}/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt" -c '{"function":"TransferAsset","Args":["asset6","Christopher"]}'   
        # Environment variables for Org2
        export CORE_PEER_TLS_ENABLED=true
        export CORE_PEER_LOCALMSPID="Org2MSP"
        export CORE_PEER_TLS_ROOTCERT_FILE=${PWD}/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
        export CORE_PEER_MSPCONFIGPATH=${PWD}/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
        export CORE_PEER_ADDRESS=localhost:9051     
        peer chaincode query -C mychannel -n basic -c '{"Args":["ReadAsset","asset6"]}'

# RANDOM VERSIONING (!!!UPDATE!!! THE PROBLEM WAS DOCKER ENGINE VERSION)
    # GO versioning fix (terminal session, random stuff)
    rm go.sum
    rm -rf vendor
    export PATH=$PATH:$(go env GOPATH)/bin
    go1.23.0 download
    go1.23.0 get golang.org/x/exp/maps@v0.0.0-20231006140011-7918f672742d
    go1.23.0 get golang.org/x/exp/slices@v0.0.0-20231006140011-7918f672742d
    alias go=go1.23.0
    go version
    go mod tidy
    go mod vendor
    ./network.sh down
    docker rm -f $(docker ps -aq)
    docker volume prune -f

    # removed this
    infoln "Vendoring Go dependencies at $CC_SRC_PATH"
    pushd $CC_SRC_PATH
    GO111MODULE=on go mod vendor
    popd
    successln "Finished vendoring Go dependencies" deployCC

    # GO versioning fix (final)
    export PATH=$PATH:$(go env GOPATH)/bin
    go install golang.org/dl/go1.21.6@latest
    go1.21.6 download
    export GOTOOLCHAIN=local
    rm -rf vendor go.sum
    go1.21.6 mod tidy
    go1.21.6 mod vendor

